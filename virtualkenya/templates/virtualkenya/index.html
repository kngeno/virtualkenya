
{% load staticfiles %}
<!DOCTYPE html>
<html lang='en'>
<head>
<meta charset='utf-8' />
<title>VirtualKenya WMS</title>
 <!-- Bootstrap -->  
    <!-- Bootstrap core CSS -->
    <link href="{% static 'virtualkenya/css/bootstrap.css' %}" rel="stylesheet">
    <!-- Font Awesome -->
    <link href="{% static 'virtualkenya/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet">
    <!-- Google Fonts -->
    <link href='http://fonts.googleapis.com/css?family=Marmelad' rel='stylesheet' type='text/css'>
    <!-- Custom CSS -->
    <link href="{% static 'virtualkenya/css/stylesheet.css' %}" rel="stylesheet">
    <!-- GeoExt -->
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/panel/Map.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/data/FeatureStore.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/data/MapfishPrintProvider.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/grid/Symbolizer.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/selection/FeatureModel.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/container/WmsLegend.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/panel/Legend.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/window/Popup.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/plugins/PrintExtent.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/tree/LayerContainer.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/tree/OverlayLayerContainer.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/tree/BaseLayerContainer.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/data/LayerTreeModel.js' %}" rel="stylesheet">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/geoext/src/GeoExt/Action.js' %}" rel="stylesheet">
    
    
    <!--Adding the GeoExt css for the popup-->
    <link rel="stylesheet" type="text/css" href="{% static 'virtualkenya/geoext/resources/css/popup.css' %}">
    <!-- Load Ext -->
    <link rel="stylesheet" type="text/css" href="{% static 'virtualkenya/extjs/resources/css/ext-all-neptune.css' %}">
    <script type="text/javascript" charset="utf-8" src="{% static 'virtualkenya/extjs/ext-all-debug.js' %}"></script>
    <!-- Load Openlayers -->
  <!--<link rel="stylesheet" type="text/css" href="OpenLayers/theme/default/style.css"/>-->
    <script src="{% static 'virtualkenya/Openlayers/OpenLayers.js' %}"></script>
    <!--<script src="https://maps.google.com/maps/api/js?sensor=false"></script>-->
    <!--<script src="http://path/to/mapfish/print/info.json?var=printCapabilities type="text/javascript"></script>-->
    <!-- Load our modules loader.js and map.js -->
    <script type="text/javascript" src="{% static 'virtualkenya/js/loader.js' %} "></script>
    <script type="text/javascript" src="{% static 'virtualkenya/js/map.js' %} "></script>

<!--<script type='text/javascript' src='OpenLayers.js'></script>-->
<script src="http://openlayers.org/api/2.13.1/OpenLayers.js"></script>
<script type='text/javascript'>
	var map;
	function init() {
	map = new OpenLayers.Map('map_element', {
		controls: [
			new OpenLayers.Control.Navigation(),
			new OpenLayers.Control.ArgParser(),
			new OpenLayers.Control.Attribution(),
			new OpenLayers.Control.LayerSwitcher(),
			new OpenLayers.Control.MousePosition(),
			new OpenLayers.Control.OverviewMap(),
			new OpenLayers.Control.Scale(),
			new OpenLayers.Control.PanZoomBar(),
			new OpenLayers.Control.KeyboardDefaults()
			]
        },
		{projection: "EPSG:4326",units: 'degrees'}
	);
	var fromProjection = new OpenLayers.Projection("EPSG:4326");   // Transform from WGS 1984
        var toProjection   = new OpenLayers.Projection("EPSG:900913"); // to Spherical Mercator Projection
        var position       = new OpenLayers.LonLat(36.949,-0.3689);
        var zoom           = 6; 
	var wms = new OpenLayers.Layer.WMS(
		'OpenLayers WMS',
		'http://vmap0.tiles.osgeo.org/wms/vmap0',
		{layers: 'basic'},
		{isBasiclayer: true},
                {visibility:false},
                {displayInLayerSwitcher: true}
		);
	var turk = new OpenLayers.Layer.WMS(
        "Turkana Boundary",
        "http://maps.virtualkenya.org/geoserver/geonode/wms",
                {layers: 'geonode:turkbnd'},
                {isBasiclayer: false},
                {visibility:true},
                {displayInLayerSwitcher: true}
        );
        var turksand = new OpenLayers.Layer.WMS(
            "Turkana Sand Dam",
            "http://maps.virtualkenya.org/geoserver/geonode/wms",
                {layers: 'geonode:turkana_sanddam'},
                {isBasiclayer: false},
                {visibility:true},
                {displayInLayerSwitcher: true}
        );
        var marsabit = new OpenLayers.Layer.WMS(
            "Marsabit range Condition",
            "http://maps.virtualkenya.org/geoserver/geonode/wms",
                {layers: 'marsabit_rangecondition'},
                {isBasiclayer: false},
                {visibility:true},
                {displayInLayerSwitcher: true}
        );
  	
	// Add Layers
	map.addLayers([wms,turk,turksand,marsabit]);
	map.setCenter(position, zoom );
	if(!map.getCenter()){
	map.zoomToMaxExtent();
	//Feature selection

	turksand = new OpenLayers.Control.WMSGetFeatureInfo({
	                url: http:"//maps.virtualkenya.org/geoserver/geonode/wms",
	                title: 'Turkana sand dam',
	                layers: [geonode:turkana_sanddam],
	                queryVisible: true
	            });
	map.addLayers([wms,turk,turksand,marsabit]);
    map.setCenter(position, zoom );
    if(!map.getCenter()){
    map.zoomToMaxExtent();
    }
    }

</script>
</head>
<body onload='init();'>
	<nav class="navbar navbar-default navbar-fixed-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="{% url 'index' %}"><span class="nav-list"><strong>VirtualKenya WMS</strong></span></a>
            </div>
            <div class="collapse navbar-collapse navbar-left navbar-ex1-collapse">
                <ul class="nav navbar-nav">        
                    <li><a href="{% url 'index' %}"><i class="fa fa-home"></i> <span class="nav-list">Home</span></a></li>                        
                    <li><a href="{% url 'info' %}"><i class="fa fa-info-circle"></i> <span class="nav-list">Info</span></a></li>               
                </ul>
            </div>
            <!-- /.navbar-collapse -->
        </div>
        <!-- /.container -->
    </nav>
	<div id='map_element' style='width: 100%; height: 500px;'>
	</div>
	<div id="footer_info">
      <div class="container">
        <div class="row">
          <div class="col-lg-6">
            <h4>Find Out More</h4>
            <hr class="section-heading-spacer2">
            <div class="clearfix"></div>
            <a href="https://github.com/kngeno/virtualkenya_wms" style="text-decoration:none; color:inherit;"><i class="fa fa-github-alt"></i> Github Repository</a>
          </div>
          <div class="col-lg-6">
            <h4>Contact Info</h4>
            <hr class="section-heading-spacer2">
            <div class="clearfix"></div>
            <div class="row">
              <div class="col-lg-12">
                <a href="mailto:kngeno.kevin@gmail.com" style="text-decoration:none; color:inherit;"><i class="fa fa-envelope"></i> kngeno.kevin@gmail.com</a><br>
                <a href="twitter.com/rabbida_hacker" style="text-decoration:none; color:inherit;"><i class="fa fa-twitter-square"></i> Twitter</a><br>
                <a href="linkedin.com/in/rabbida_hacker" style="text-decoration:none; color:inherit;"><i class="fa fa-linkedin"></i> Linkedin</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <footer>
      <p style="color: black;"><strong> VirtualKenya WMS &copy; 2015 </strong></p>
    </footer>
</body>
</html>
